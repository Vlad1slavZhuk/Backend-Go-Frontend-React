{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/vzhuchkov/go/src/Backend-Go-Frontend-React/react-client/src/components/modals/CreatingCarModal.js\";\nimport { Modal, Button, Form, Alert } from 'react-bootstrap';\nimport React from 'react';\nimport { DISPLAY_CREATING_CAR_MODAL, UNKNOWN_ERROR_RESPONSE_CODE } from '../../constants';\nimport { createCar } from '../../services/cars';\nconst initialState = {\n  isEmptyData: false,\n  isUnknownError: false,\n  isWaitingForResponse: false,\n  isWrongPrice: false,\n  brand: '',\n  model: '',\n  price: 0\n};\n\nclass CreatingCarModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleBrandChange = ({\n      target: {\n        value\n      }\n    }) => this.setState({\n      brand: value\n    });\n\n    this.handleModelChange = ({\n      target: {\n        value\n      }\n    }) => this.setState({\n      model: value\n    });\n\n    this.handlePriceChange = ({\n      target: {\n        value\n      }\n    }) => this.setState({\n      price: value\n    });\n\n    this.handleCreate = () => {\n      if (this.state.brand.length === 0 || this.state.model.length === 0) {\n        this.setState({\n          isEmptyData: true\n        });\n        return;\n      }\n\n      const priceNumber = +this.state.price;\n      /* eslint-disable */\n\n      if (this.state.price != priceNumber) {\n        this.setState({\n          isWrongPrice: true\n        });\n        return;\n      }\n      /*eslint-enable */\n\n\n      this.setState({\n        isWaitingForResponse: true,\n        isWrongPrice: false\n      });\n      const car = {\n        brand: this.state.brand,\n        model: this.state.model,\n        price: priceNumber\n      };\n      createCar(car).then(response => {\n        if (response.responseCode === UNKNOWN_ERROR_RESPONSE_CODE) {\n          this.setState({\n            isUnknownError: true\n          });\n        } else {\n          this.closeModal();\n        }\n      });\n    };\n\n    this.state = initialState;\n  }\n\n  closeModal() {\n    this.props.onModalClose();\n  }\n\n  render() {\n    const {\n      isEmptyData,\n      isUnknownError,\n      isWrongPrice,\n      isWaitingForResponse,\n      brand,\n      model,\n      price\n    } = this.state;\n    const {\n      displayModalType\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: displayModalType === DISPLAY_CREATING_CAR_MODAL,\n      onHide: this.closeModal.bind(this),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Create car\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"brand\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: brand,\n              onChange: this.handleBrandChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"model\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Model\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: model,\n              onChange: this.handleModelChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"price\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"price\",\n              value: price,\n              onChange: this.handlePriceChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          show: isWaitingForResponse,\n          variant: \"primary\",\n          children: \"Car is creating, please wait\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          show: isUnknownError,\n          variant: \"danger\",\n          children: \"Unknown error of creating car\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          show: isWrongPrice,\n          variant: \"danger\",\n          children: \"Price is wrong, it should be number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          show: isEmptyData,\n          variant: \"danger\",\n          children: \"Empty values\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: this.handleCreate,\n          disabled: isWaitingForResponse,\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CreatingCarModal;","map":{"version":3,"sources":["/home/vzhuchkov/go/src/Backend-Go-Frontend-React/react-client/src/components/modals/CreatingCarModal.js"],"names":["Modal","Button","Form","Alert","React","DISPLAY_CREATING_CAR_MODAL","UNKNOWN_ERROR_RESPONSE_CODE","createCar","initialState","isEmptyData","isUnknownError","isWaitingForResponse","isWrongPrice","brand","model","price","CreatingCarModal","Component","constructor","props","handleBrandChange","target","value","setState","handleModelChange","handlePriceChange","handleCreate","state","length","priceNumber","car","then","response","responseCode","closeModal","onModalClose","render","displayModalType","bind"],"mappings":"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","sourcesContent":["import { Modal, Button, Form, Alert } from 'react-bootstrap';\nimport React from 'react';\nimport { DISPLAY_CREATING_CAR_MODAL, UNKNOWN_ERROR_RESPONSE_CODE } from '../../constants';\nimport { createCar } from '../../services/cars';\n\nconst initialState = {\n    isEmptyData: false,\n    isUnknownError: false,\n    isWaitingForResponse: false,\n    isWrongPrice: false,\n    brand: '',\n    model: '',\n    price: 0\n};\n\nclass CreatingCarModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = initialState;\n    }\n\n    handleBrandChange = ({ target: { value } }) => this.setState({ brand: value });\n    handleModelChange = ({ target: { value } }) => this.setState({ model: value });\n    handlePriceChange = ({ target: { value } }) => this.setState({ price: value });\n    handleCreate = () => {\n        if (this.state.brand.length === 0 || this.state.model.length === 0) {\n            this.setState({ isEmptyData: true });\n            return;\n        }\n        const priceNumber = +this.state.price;\n        /* eslint-disable */\n        if (this.state.price != priceNumber) { \n            this.setState({ isWrongPrice: true });\n            return;\n        }\n        /*eslint-enable */\n        this.setState({ isWaitingForResponse: true, isWrongPrice: false });\n\n        const car = {\n            brand: this.state.brand,\n            model: this.state.model,\n            price: priceNumber\n        };\n\n        createCar(car).then(response => {\n            if (response.responseCode === UNKNOWN_ERROR_RESPONSE_CODE) {\n                this.setState({ isUnknownError: true });\n            } else {\n                this.closeModal();\n            }           \n        });\n    };\n\n    closeModal() {\n        this.props.onModalClose();\n    }\n\n    render() {\n        const {\n            isEmptyData,\n            isUnknownError,\n            isWrongPrice,\n            isWaitingForResponse,\n            brand,\n            model,\n            price\n        } = this.state;\n\n        const {\n            displayModalType\n        } = this.props;\n\n        return (\n            <Modal show={displayModalType === DISPLAY_CREATING_CAR_MODAL} onHide={this.closeModal.bind(this)}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Create car</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <Form>\n                        <Form.Group controlId=\"brand\">\n                            <Form.Label>Brand</Form.Label>\n                            <Form.Control type=\"text\" value={brand} onChange={this.handleBrandChange} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"model\">\n                            <Form.Label>Model</Form.Label>\n                            <Form.Control type=\"text\" value={model} onChange={this.handleModelChange} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"price\">\n                            <Form.Label>Price</Form.Label>\n                            <Form.Control type=\"price\" value={price} onChange={this.handlePriceChange} />\n                        </Form.Group>\n                    </Form>\n                    <Alert show={isWaitingForResponse} variant=\"primary\">\n                        Car is creating, please wait\n                    </Alert>\n                    <Alert show={isUnknownError} variant=\"danger\">\n                        Unknown error of creating car\n                    </Alert>\n                    <Alert show={isWrongPrice} variant=\"danger\">\n                        Price is wrong, it should be number\n                    </Alert>\n                    <Alert show={isEmptyData} variant=\"danger\">\n                        Empty values\n                    </Alert>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"primary\" onClick={this.handleCreate} disabled={isWaitingForResponse}>Create</Button>\n                </Modal.Footer>\n            </Modal>)\n    }\n}\n\nexport default CreatingCarModal;"]},"metadata":{},"sourceType":"module"}