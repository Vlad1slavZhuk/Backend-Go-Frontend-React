{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/vzhuchkov/go/src/Backend-Go-Frontend-React/react-client/src/App.js\";\nimport Header from './components/Header';\nimport React from 'react';\nimport { WITHOUT_MODAL } from './constants';\nimport { isLoggedInChanged } from './services/account';\nimport CarsTable from './components/CarsTable';\nimport SignInModal from './components/modals/SignInModal';\nimport SignUpModal from './components/modals/SignUpModal';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.handleDisplayModalTypeChaged = displayModalType => this.setState({\n      displayModalType\n    });\n\n    this.handleModalClose = () => this.setState({\n      displayModalType: WITHOUT_MODAL\n    });\n\n    const accountToken = localStorage.getItem('Token');\n    this.state = {\n      isLoggedIn: accountToken !== null,\n      displayModalType: WITHOUT_MODAL\n    };\n  }\n\n  componentDidMount() {\n    this.isLoggedInChangedSubscriber = isLoggedInChanged.subscribe(isLoggedIn => this.setState({\n      isLoggedIn\n    }));\n  }\n\n  componentWillUnmount() {\n    this.isLoggedInChangedSubscriber.unsubscribe();\n  }\n\n  render() {\n    const {\n      isLoggedIn,\n      displayModalType\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isLoggedIn: isLoggedIn,\n        onDisplayModalTypeChaged: this.handleDisplayModalTypeChaged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), isLoggedIn && /*#__PURE__*/_jsxDEV(CarsTable, {\n        displayModalType: displayModalType,\n        onDisplayModalTypeChaged: this.handleDisplayModalTypeChaged,\n        onModalClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(SignInModal, {\n        displayModalType: displayModalType,\n        onModalClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SignUpModal, {\n        displayModalType: displayModalType,\n        onModalClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/vzhuchkov/go/src/Backend-Go-Frontend-React/react-client/src/App.js"],"names":["Header","React","WITHOUT_MODAL","isLoggedInChanged","CarsTable","SignInModal","SignUpModal","App","Component","constructor","handleDisplayModalTypeChaged","displayModalType","setState","handleModalClose","accountToken","localStorage","getItem","state","isLoggedIn","componentDidMount","isLoggedInChangedSubscriber","subscribe","componentWillUnmount","unsubscribe","render"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,aAA9B;AACA,SAASC,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;;AAEA,MAAMC,GAAN,SAAkBN,KAAK,CAACO,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAWdC,4BAXc,GAWiBC,gBAAgB,IAAI,KAAKC,QAAL,CAAc;AAAED,MAAAA;AAAF,KAAd,CAXrC;;AAAA,SAYdE,gBAZc,GAYK,MAAM,KAAKD,QAAL,CAAc;AAAED,MAAAA,gBAAgB,EAAET;AAApB,KAAd,CAZX;;AAGZ,UAAMY,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAArB;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAEJ,YAAY,KAAK,IADlB;AAEXH,MAAAA,gBAAgB,EAAET;AAFP,KAAb;AAID;;AAKDiB,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,2BAAL,GAAmCjB,iBAAiB,CAACkB,SAAlB,CAA4BH,UAAU,IAAI,KAAKN,QAAL,CAAc;AAAEM,MAAAA;AAAF,KAAd,CAA1C,CAAnC;AACD;;AAEDI,EAAAA,oBAAoB,GAAG;AACrB,SAAKF,2BAAL,CAAiCG,WAAjC;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AACJN,MAAAA,UADI;AAEJP,MAAAA;AAFI,QAGF,KAAKM,KAHT;AAKA,wBACE;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,UAAU,EAAEC,UAApB;AAAgC,QAAA,wBAAwB,EAAE,KAAKR;AAA/D;AAAA;AAAA;AAAA;AAAA,cADF,EAGIQ,UAAU,iBAAI,QAAC,SAAD;AACd,QAAA,gBAAgB,EAAEP,gBADJ;AAEd,QAAA,wBAAwB,EAAE,KAAKD,4BAFjB;AAGd,QAAA,YAAY,EAAE,KAAKG;AAHL;AAAA;AAAA;AAAA;AAAA,cAHlB,eAQE,QAAC,WAAD;AAAa,QAAA,gBAAgB,EAAEF,gBAA/B;AAAiD,QAAA,YAAY,EAAE,KAAKE;AAApE;AAAA;AAAA;AAAA;AAAA,cARF,eASE,QAAC,WAAD;AAAa,QAAA,gBAAgB,EAAEF,gBAA/B;AAAiD,QAAA,YAAY,EAAE,KAAKE;AAApE;AAAA;AAAA;AAAA;AAAA,cATF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAaD;;AA1C+B;;AA6ClC,eAAeN,GAAf","sourcesContent":["import Header from './components/Header';\nimport React from 'react';\nimport { WITHOUT_MODAL } from './constants';\nimport { isLoggedInChanged } from './services/account';\nimport CarsTable from './components/CarsTable';\nimport SignInModal from './components/modals/SignInModal';\nimport SignUpModal from './components/modals/SignUpModal';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    const accountToken = localStorage.getItem('Token');\n\n    this.state = {\n      isLoggedIn: accountToken !== null,\n      displayModalType: WITHOUT_MODAL\n    };\n  }\n\n  handleDisplayModalTypeChaged = displayModalType => this.setState({ displayModalType });\n  handleModalClose = () => this.setState({ displayModalType: WITHOUT_MODAL });\n\n  componentDidMount() {\n    this.isLoggedInChangedSubscriber = isLoggedInChanged.subscribe(isLoggedIn => this.setState({ isLoggedIn }));\n  }\n\n  componentWillUnmount() {\n    this.isLoggedInChangedSubscriber.unsubscribe();\n  }\n\n  render() {\n    const {\n      isLoggedIn,\n      displayModalType\n    } = this.state;\n\n    return (\n      <div>\n        <Header isLoggedIn={isLoggedIn} onDisplayModalTypeChaged={this.handleDisplayModalTypeChaged} />\n\n        { isLoggedIn && <CarsTable\n          displayModalType={displayModalType}\n          onDisplayModalTypeChaged={this.handleDisplayModalTypeChaged}\n          onModalClose={this.handleModalClose}></CarsTable>}\n\n        <SignInModal displayModalType={displayModalType} onModalClose={this.handleModalClose}></SignInModal>\n        <SignUpModal displayModalType={displayModalType} onModalClose={this.handleModalClose}></SignUpModal>\n      </div>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}