{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/vzhuchkov/go/src/Backend-Go-Frontend-React/react-client/src/components/CarsTable.js\";\nimport { Container, Row, Col, Table, Button } from 'react-bootstrap';\nimport React from 'react';\nimport { carsDataChanged, getAllCars } from '../services/cars';\nimport { DISPLAY_CREATING_CAR_MODAL, DISPLAY_EDITING_CAR_MODAL, DISPLAY_REMOVING_CAR_MODAL } from '../constants';\nimport CreatingCarModal from './modals/CreatingCarModal';\nimport EditingCarModal from './modals/EditingCarModal';\nimport DeletingCarModal from './modals/RemovingCarModal';\n\nclass CarsTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleModalClose = () => {\n      this.setState({\n        selectedCar: {}\n      });\n      this.props.onModalClose();\n    };\n\n    this.state = {\n      cars: [],\n      selectedCar: {}\n    };\n  }\n\n  openCreatingModal() {\n    this.props.onDisplayModalTypeChaged(DISPLAY_CREATING_CAR_MODAL);\n  }\n\n  openEditingModal(car) {\n    this.setState({\n      selectedCar: car\n    });\n    this.props.onDisplayModalTypeChaged(DISPLAY_EDITING_CAR_MODAL);\n  }\n\n  openRemovingModal(car) {\n    this.setState({\n      selectedCar: car\n    });\n    this.props.onDisplayModalTypeChaged(DISPLAY_REMOVING_CAR_MODAL);\n  }\n\n  updateCarsTable() {\n    getAllCars().then(cars => this.setState({\n      cars\n    }));\n  }\n\n  getCarString(car) {\n    return `${car.brand} ${car.model} ${car.price}`;\n  }\n\n  componentDidMount() {\n    this.carsDataChangedSubscriber = carsDataChanged.subscribe(() => {\n      this.setState({\n        selectedCar: {}\n      });\n      this.updateCarsTable();\n    });\n    this.updateCarsTable();\n  }\n\n  componentWillUnmount() {\n    this.carsDataChangedSubscriber.unsubscribe();\n  }\n\n  render() {\n    const {\n      cars,\n      selectedCar\n    } = this.state;\n    const {\n      displayModalType\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.openCreatingModal(),\n              variant: \"primary\",\n              className: \"cars-body-adding-button\",\n              children: \"Add a new car\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              striped: true,\n              bordered: true,\n              className: \"cars-body-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Brand\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Model\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: cars.map((car, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: car.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: car.brand\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: car.model\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: car.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => this.openEditingModal(car),\n                      variant: \"success\",\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 41\n                    }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => this.openRemovingModal(car),\n                      variant: \"danger\",\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 37\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 59\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), displayModalType === DISPLAY_CREATING_CAR_MODAL && /*#__PURE__*/_jsxDEV(CreatingCarModal, {\n        displayModalType: displayModalType,\n        onModalClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 66\n      }, this), displayModalType === DISPLAY_EDITING_CAR_MODAL && /*#__PURE__*/_jsxDEV(EditingCarModal, {\n        selectedCarId: selectedCar.id,\n        displayModalType: displayModalType,\n        onModalClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 65\n      }, this), displayModalType === DISPLAY_REMOVING_CAR_MODAL && /*#__PURE__*/_jsxDEV(DeletingCarModal, {\n        selectedCarId: selectedCar.id,\n        description: this.getCarString(selectedCar),\n        displayModalType: displayModalType,\n        onModalClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 66\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default CarsTable;","map":{"version":3,"sources":["/home/vzhuchkov/go/src/Backend-Go-Frontend-React/react-client/src/components/CarsTable.js"],"names":["Container","Row","Col","Table","Button","React","carsDataChanged","getAllCars","DISPLAY_CREATING_CAR_MODAL","DISPLAY_EDITING_CAR_MODAL","DISPLAY_REMOVING_CAR_MODAL","CreatingCarModal","EditingCarModal","DeletingCarModal","CarsTable","Component","constructor","props","handleModalClose","setState","selectedCar","onModalClose","state","cars","openCreatingModal","onDisplayModalTypeChaged","openEditingModal","car","openRemovingModal","updateCarsTable","then","getCarString","brand","model","price","componentDidMount","carsDataChangedSubscriber","subscribe","componentWillUnmount","unsubscribe","render","displayModalType","map","index","id"],"mappings":"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","sourcesContent":["import { Container, Row, Col, Table, Button } from 'react-bootstrap';\nimport React from 'react';\nimport { carsDataChanged, getAllCars } from '../services/cars';\nimport { DISPLAY_CREATING_CAR_MODAL, DISPLAY_EDITING_CAR_MODAL, DISPLAY_REMOVING_CAR_MODAL } from '../constants';\nimport CreatingCarModal from './modals/CreatingCarModal';\nimport EditingCarModal from './modals/EditingCarModal';\nimport DeletingCarModal from './modals/RemovingCarModal';\n\nclass CarsTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cars: [],\n            selectedCar: {}\n        }\n    }\n\n    handleModalClose = () => {\n        this.setState({ selectedCar: {} });\n        this.props.onModalClose();\n    };\n\n    openCreatingModal () {        \n        this.props.onDisplayModalTypeChaged(DISPLAY_CREATING_CAR_MODAL);\n    }\n\n    openEditingModal (car) {        \n        this.setState({ selectedCar: car });\n        this.props.onDisplayModalTypeChaged(DISPLAY_EDITING_CAR_MODAL);\n    }\n\n    openRemovingModal (car) {        \n        this.setState({ selectedCar: car });\n        this.props.onDisplayModalTypeChaged(DISPLAY_REMOVING_CAR_MODAL);\n    }\n\n    updateCarsTable () {\n        getAllCars().then(cars => this.setState({ cars }));\n    }\n\n    getCarString (car) {\n        return `${car.brand} ${car.model} ${car.price}`;\n    }\n\n    componentDidMount () {\n        this.carsDataChangedSubscriber = carsDataChanged.subscribe(() => {\n            this.setState({ selectedCar: {} });\n            this.updateCarsTable();\n        });\n        this.updateCarsTable();\n    }\n\n    componentWillUnmount() {\n        this.carsDataChangedSubscriber.unsubscribe();\n    }\n\n    render () {\n        const {\n            cars,\n            selectedCar\n        } = this.state;\n\n        const {\n            displayModalType\n        } = this.props;\n\n        return(\n            <>\n            <Container>\n                <Row>\n                    <Col>\n                        <Button  onClick={() => this.openCreatingModal()} variant=\"primary\" className=\"cars-body-adding-button\">Add a new car</Button>\n                        <Table striped bordered  className=\"cars-body-table\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>Brand</th>\n                                    <th>Model</th>\n                                    <th>Price</th>\n                                    <th>Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {cars.map((car, index) => <tr key={index}>\n                                    <td>{car.id}</td>\n                                    <td>{car.brand}</td>\n                                    <td>{car.model}</td>\n                                    <td>{car.price}</td>\n                                    <td>\n                                        <Button onClick={() => this.openEditingModal(car)} variant=\"success\">Edit</Button>{' '}\n                                        <Button onClick={() => this.openRemovingModal(car)} variant=\"danger\">Delete</Button>\n                                    </td>\n                                </tr>)}\n                            </tbody>\n                        </Table>\n                    </Col>\n                </Row>\n            </Container>\n\n            { displayModalType === DISPLAY_CREATING_CAR_MODAL && <CreatingCarModal displayModalType={displayModalType} onModalClose={this.handleModalClose}></CreatingCarModal>}\n            { displayModalType === DISPLAY_EDITING_CAR_MODAL && <EditingCarModal selectedCarId={selectedCar.id} displayModalType={displayModalType} onModalClose={this.handleModalClose}></EditingCarModal>}\n            { displayModalType === DISPLAY_REMOVING_CAR_MODAL && <DeletingCarModal selectedCarId={selectedCar.id} description={this.getCarString(selectedCar)} displayModalType={displayModalType} onModalClose={this.handleModalClose}></DeletingCarModal>}\n            </>\n        )\n    }\n}\n\nexport default CarsTable;"]},"metadata":{},"sourceType":"module"}